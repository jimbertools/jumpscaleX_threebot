var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function r(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(t,n){t.appendChild(n)}function c(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function i(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function u(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function f(){return p(" ")}function g(){return p("")}function d(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}function h(t,n){n=""+n,t.data!==n&&(t.data=n)}let m;function $(t){m=t}function b(t){(function(){if(!m)throw new Error("Function called outside component initialization");return m})().$$.on_mount.push(t)}function v(){const t=m;return(n,e)=>{const o=t.$$.callbacks[n];if(o){const s=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach(n=>{n.call(t,s)})}}}const y=[],x=[],_=[],w=[],E=Promise.resolve();let T=!1;function k(t){_.push(t)}function C(){const t=new Set;do{for(;y.length;){const t=y.shift();$(t),L(t.$$)}for(;x.length;)x.pop()();for(let n=0;n<_.length;n+=1){const e=_[n];t.has(e)||(e(),t.add(e))}_.length=0}while(y.length);for(;w.length;)w.pop()();T=!1}function L(t){t.fragment&&(t.update(t.dirty),o(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(k))}const j=new Set;let O,S;function N(t,n){t&&t.i&&(j.delete(t),t.i(n))}function P(t,n,e,o){if(t&&t.o){if(j.has(t))return;j.add(t),O.c.push(()=>{j.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}function A(t,e,r){const{fragment:a,on_mount:c,on_destroy:l,after_update:i}=t.$$;a.m(e,r),k(()=>{const e=c.map(n).filter(s);l?l.push(...e):o(e),t.$$.on_mount=[]}),i.forEach(k)}function I(t,n){t.$$.fragment&&(o(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function M(t,n){t.$$.dirty||(y.push(t),T||(T=!0,E.then(C)),t.$$.dirty=e()),t.$$.dirty[n]=!0}function B(n,s,r,a,c,l){const i=m;$(n);const u=s.props||{},p=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(i?i.$$.context:[]),callbacks:e(),dirty:null};let f=!1;var g;p.ctx=r?r(n,u,(t,e,o=e)=>(p.ctx&&c(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),f&&M(n,t)),e)):u,p.update(),f=!0,o(p.before_update),p.fragment=a(p.ctx),s.target&&(s.hydrate?p.fragment.l((g=s.target,Array.from(g.childNodes))):p.fragment.c(),s.intro&&N(n.$$.fragment),A(n,s.target,s.anchor),C()),$(i)}"undefined"!=typeof HTMLElement&&(S=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,n,e){this[t]=e}$destroy(){I(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}});class D{$destroy(){I(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function H(n){var e;return{c(){(e=u("div")).innerHTML='<nav class="navbar navbar-expand-lg navbar navbar-dark bg-dark"><a class="navbar-brand" href="#">Blog</a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button> <div class="collapse navbar-collapse" id="navbarText"><ul class="navbar-nav mr-auto"><li class="nav-item active"><a class="nav-link" href="/">\n\t\t\t            Home\n\t\t\t            <span class="sr-only">(current)</span></a></li></ul> <span class="navbar-text">Blog</span></div></nav>'},m(t,n){c(t,e,n)},p:t,i:t,o:t,d(t){t&&l(e)}}}class G extends D{constructor(t){super(),B(this,t,null,H,r,[])}}const q=[];function R(t,n){return{subscribe:F(t,n).subscribe}}function F(n,e=t){let o;const s=[];function a(t){if(r(n,t)&&(n=t,o)){const t=!q.length;for(let t=0;t<s.length;t+=1){const e=s[t];e[1](),q.push(e,n)}if(t){for(let t=0;t<q.length;t+=2)q[t][0](q[t+1]);q.length=0}}}return{set:a,update:function(t){a(t(n))},subscribe:function(r,c=t){const l=[r,c];return s.push(l),1===s.length&&(o=e(a)||t),r(n),()=>{const t=s.indexOf(l);-1!==t&&s.splice(t,1),0===s.length&&(o(),o=null)}}}}function J(n,e,r){const a=!Array.isArray(n),c=a?[n]:n,l=e.length<2;return R(r,n=>{let r=!1;const i=[];let u=0,p=t;const f=()=>{if(u)return;p();const o=e(a?i[0]:i,n);l?n(o):p=s(o)?o:t},g=c.map((t,n)=>t.subscribe(t=>{i[n]=t,u&=~(1<<n),r&&f()},()=>{u|=1<<n}));return r=!0,f(),function(){o(g),p()}})}function z(t){var n,e,s=t.component;function r(t){return{props:{params:t.componentParams}}}if(s)var a=new s(r(t));return{c(){a&&a.$$.fragment.c(),n=g()},m(t,o){a&&A(a,t,o),c(t,n,o),e=!0},p(t,e){var c={};if(t.componentParams&&(c.params=e.componentParams),s!==(s=e.component)){if(a){O={r:0,c:[],p:O};const t=a;P(t.$$.fragment,1,0,()=>{I(t,1)}),O.r||o(O.c),O=O.p}s?((a=new s(r(e))).$$.fragment.c(),N(a.$$.fragment,1),A(a,n.parentNode,n)):a=null}else s&&a.$set(c)},i(t){e||(a&&N(a.$$.fragment,t),e=!0)},o(t){a&&P(a.$$.fragment,t),e=!1},d(t){t&&l(n),a&&I(a,t)}}}function K(){const t=window.location.href.indexOf("#/");let n=t>-1?window.location.href.substr(t+1):"/";const e=n.indexOf("?");let o="";return e>-1&&(o=n.substr(e+1),n=n.substr(0,e)),{location:n,querystring:o}}const Q=R(K(),function(t){const n=()=>{t(K())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});J(Q,t=>t.location),J(Q,t=>t.querystring);function U(t){if(!t||!t.tagName||"a"!=t.tagName.toLowerCase())throw Error('Action "link" can only be used with <a> tags');const n=t.getAttribute("href");if(!n||n.length<1||"/"!=n.charAt(0))throw Error('Invalid value for "href" attribute');t.addEventListener("click",t=>{let n;t.preventDefault();let e=t.target;for(;null===(n=e.getAttribute("href"));)if(null===(e=e.parentElement))throw Error("Could not find corresponding href value");return function(t){if(!t||t.length<1||"/"!=t.charAt(0))throw Error("Invalid parameter location");setTimeout(()=>{window.location.hash="#"+t},0)}(n),!1})}function V(t,n,e){let o;!function(t,n,e){t.$$.on_destroy.push(function(t,n){const e=t.subscribe(n);return e.unsubscribe?()=>e.unsubscribe():e}(n,e))}(t,Q,t=>{e("$loc",o=t)});let{routes:s={}}=n;class r{constructor(t,n){if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:e,keys:o}=function(t,n){if(t instanceof RegExp)return{keys:!1,pattern:t};var e,o,s,r,a=[],c="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)"*"===(e=s[0])?(a.push("wild"),c+="/(.*)"):":"===e?(o=s.indexOf("?",1),r=s.indexOf(".",1),a.push(s.substring(1,~o?o:~r?r:s.length)),c+=~o&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(c+=(~o?"?":"")+"\\"+s.substring(r))):c+="/"+s;return{keys:a,pattern:new RegExp("^"+c+(n?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,this.component=n,this._pattern=e,this._keys=o}match(t){const n=this._pattern.exec(t);if(null===n)return null;if(!1===this._keys)return n;const e={};let o=0;for(;o<this._keys.length;)e[this._keys[o]]=n[++o]||null;return e}}const a=s instanceof Map?s:Object.entries(s),c=[];for(const[t,n]of a)c.push(new r(t,n));let l=null,i={};return t.$set=(t=>{"routes"in t&&e("routes",s=t.routes)}),t.$$.update=((t={component:1,$loc:1})=>{if(t.component||t.$loc){e("component",l=null);let t=0;for(;!l&&t<c.length;){const n=c[t].match(o.location);n&&(e("component",l=c[t].component),e("componentParams",i=n)),t++}}}),{routes:s,component:l,componentParams:i}}class W extends D{constructor(t){super(),B(this,t,V,z,r,["routes"])}}function X(n){var e,o,s;return{c(){(e=u("h2")).textContent="Not Found",o=f(),(s=u("h3")).textContent="Oops, this route doesn't exist!"},m(t,n){c(t,e,n),c(t,o,n),c(t,s,n)},p:t,i:t,o:t,d(t){t&&(l(e),l(o),l(s))}}}let Y,Z=new class{getPosts(t){let n={namespace:"default",actor:"blog",command:"get_posts",args:{blog:t},headers:{response_type:"json",content_type:"json"}};return console.log(n),GEDIS_CLIENT.execute(n)}getPostBySlug(t,n){let e={namespace:"default",actor:"blog",command:"get_post_by_slug",args:{blog:t,slug:n},headers:{response_type:"json",content_type:"json"}};return console.log(e),GEDIS_CLIENT.execute(e)}getMeta(t){let n={namespace:"default",actor:"blog",command:"get_metadata",args:{blog:t},headers:{response_type:"json",content_type:"json"}};return GEDIS_CLIENT.execute(n)}getPostsByTag(t,n){let e={namespace:"default",actor:"blog",command:"get_posts_by_tag",args:{blog:t,tag:n},headers:{response_type:"json",content_type:"json"}};return console.log(e),GEDIS_CLIENT.execute(e)}getTags(t){console.log(`blog is ${t}`);let n={namespace:"default",actor:"blog",command:"get_tags",args:{blog:t},headers:{response_type:"json",content_type:"json"}};return console.log(n),GEDIS_CLIENT.execute(n)}};function tt(t,n,e){const o=Object.create(t);return o.tag=n[e],o}function nt(n){var e;return{c(){(e=u("div")).textContent="Loading Tags..."},m(t,n){c(t,e,n)},p:t,d(t){t&&l(e)}}}function et(t){var n;let e=t.tags,o=[];for(let n=0;n<e.length;n+=1)o[n]=ot(tt(t,e,n));return{c(){n=u("div");for(let t=0;t<o.length;t+=1)o[t].c();d(n,"classname","tag-list")},m(t,e){c(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,s){if(t.tags){let r;for(e=s.tags,r=0;r<e.length;r+=1){const a=tt(s,e,r);o[r]?o[r].p(t,a):(o[r]=ot(a),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=e.length}},d(t){t&&l(n),i(o,t)}}}function ot(t){var n,e,o,s,r,i,g=t.tag+"";function m(){return t.click_handler(t)}return{c(){var r,a,c,l;n=u("a"),e=p(g),o=f(),d(n,"href",s="/tag/"+t.tag),d(n,"class","tag-default tag-pill"),a="click",c=m,(r=n).addEventListener(a,c,l),i=(()=>r.removeEventListener(a,c,l))},m(t,s){c(t,n,s),a(n,e),a(n,o),r=U.call(null,n)||{}},p(o,r){t=r,o.tags&&g!==(g=t.tag+"")&&h(e,g),o.tags&&s!==(s="/tag/"+t.tag)&&d(n,"href",s)},d(t){t&&l(n),r&&"function"==typeof r.destroy&&r.destroy(),i()}}}function st(n){var e;function o(t,n){return n.tags?et:nt}var s=o(0,n),r=s(n);return{c(){r.c(),e=g()},m(t,n){r.m(t,n),c(t,e,n)},p(t,n){s===(s=o(0,n))&&r?r.p(t,n):(r.d(1),(r=s(n))&&(r.c(),r.m(e.parentNode,e)))},i:t,o:t,d(t){r.d(t),t&&l(e)}}}function rt(t,n,e){let{tags:o}=n;const s=v();return t.$set=(t=>{"tags"in t&&e("tags",o=t.tags)}),{tags:o,dispatch:s,click_handler:({tag:t})=>s("select",{tag:t})}}class at extends D{constructor(t){super(),B(this,t,rt,st,r,["tags"])}}function ct(t,n,e){const o=Object.create(t);return o.post=n[e],o}function lt(t){var n;return{c(){(n=u("div")).innerHTML="<p>no posts yet..</p> ",d(n,"class","row")},m(t,e){c(t,n,e)},d(t){t&&l(n)}}}function it(t){var n,e,o,s,r,i,g,m=t.post.title+"";return{c(){n=u("div"),e=u("a"),o=u("h1"),s=p(m),g=f(),d(e,"rel","prefetch"),d(e,"href",r="/post/"+t.post.slug),d(n,"class","row")},m(t,r){c(t,n,r),a(n,e),a(e,o),a(o,s),i=U.call(null,e)||{},a(n,g)},p(t,n){t.posts&&m!==(m=n.post.title+"")&&h(s,m),t.posts&&r!==(r="/post/"+n.post.slug)&&d(e,"href",r)},d(t){t&&l(n),i&&"function"==typeof i.destroy&&i.destroy()}}}function ut(n){var e,o,s,r,p,g;let h=n.posts,m=[];for(let t=0;t<h.length;t+=1)m[t]=it(ct(n,h,t));let $=null;h.length||($=lt()).c();var b=n.tags&&function(n){var e,o,s,r,i=new at({props:{tags:n.tags}});return{c(){e=u("div"),(o=u("h2")).textContent="Popular Tags",s=f(),i.$$.fragment.c(),d(e,"class","sidebar")},m(t,n){c(t,e,n),a(e,o),a(e,s),A(i,e,null),r=!0},p:t,i(t){r||(N(i.$$.fragment,t),r=!0)},o(t){P(i.$$.fragment,t),r=!1},d(t){t&&l(e),I(i)}}}(n);return{c(){e=f(),o=u("div"),s=u("div");for(let t=0;t<m.length;t+=1)m[t].c();r=f(),p=u("div"),b&&b.c(),document.title="Blog main",d(s,"class","col-md-9 pull-xs-left"),d(p,"class","col-md-3 pull-xs-right"),d(o,"class","row")},m(t,n){c(t,e,n),c(t,o,n),a(o,s);for(let t=0;t<m.length;t+=1)m[t].m(s,null);$&&$.m(s,null),a(o,r),a(o,p),b&&b.m(p,null),g=!0},p(t,n){if(t.posts){let e;for(h=n.posts,e=0;e<h.length;e+=1){const o=ct(n,h,e);m[e]?m[e].p(t,o):(m[e]=it(o),m[e].c(),m[e].m(s,null))}for(;e<m.length;e+=1)m[e].d(1);m.length=h.length}h.length?$&&($.d(1),$=null):$||(($=lt()).c(),$.m(s,null)),n.tags&&b.p(t,n)},i(t){g||(N(b),g=!0)},o(t){P(b),g=!1},d(t){t&&(l(e),l(o)),i(m,t),$&&$.d(),b&&b.d()}}}function pt(t,n,e){let o=[],{params:s,tag:r=""}=n;return b(()=>{Z.getPosts(blog_name).then(t=>{e("posts",o=JSON.parse(t)),console.log("POSTS: ",o)})}),t.$set=(t=>{"params"in t&&e("params",s=t.params),"tag"in t&&e("tag",r=t.tag)}),{posts:o,tags:[],params:s,tag:r}}class ft extends D{constructor(t){super(),B(this,t,pt,ut,r,["params","tag"])}}function gt(t,n,e){const o=Object.create(t);return o.tag=n[e],o.idx=e,o}function dt(t){var n,e,o,s,r,i=t.tag+"";return{c(){n=u("span"),e=u("i"),o=f(),s=p(i),r=f(),d(e,"class","ion-close-round"),d(n,"class","tag-default tag-pill")},m(t,l){c(t,n,l),a(n,e),a(n,o),a(n,s),a(n,r)},p(t,n){t.post&&i!==(i=n.tag+"")&&h(s,i)},d(t){t&&l(n)}}}function ht(n){var e,o,s,r,g,m,$,b,v,y,x,_,w,E,T,k,C=n.post.title+"",L=n.post.content+"";let j=n.post.tags,O=[];for(let t=0;t<j.length;t+=1)O[t]=dt(gt(n,j,t));return{c(){e=u("div"),o=p("in post\n  "),s=u("div"),(r=u("span")).textContent="POST DATE",g=f(),m=u("div");for(let t=0;t<O.length;t+=1)O[t].c();$=f(),b=u("div"),v=u("h1"),y=u("i"),x=p(C),_=f(),w=u("hr"),E=f(),T=u("div"),k=u("div"),d(r,"class","date"),d(m,"class","tag-list"),d(b,"class","article-item-title article-item-label content")},m(t,n){c(t,e,n),a(e,o),a(e,s),a(s,r),a(s,g),a(s,m);for(let t=0;t<O.length;t+=1)O[t].m(m,null);a(s,$),a(s,b),a(b,v),a(v,y),a(y,x),a(b,_),a(b,w),a(e,E),a(e,T),a(T,k),k.innerHTML=L},p(t,n){if(t.post){let e;for(j=n.post.tags,e=0;e<j.length;e+=1){const o=gt(n,j,e);O[e]?O[e].p(t,o):(O[e]=dt(o),O[e].c(),O[e].m(m,null))}for(;e<O.length;e+=1)O[e].d(1);O.length=j.length}t.post&&C!==(C=n.post.title+"")&&h(x,C),t.post&&L!==(L=n.post.content+"")&&(k.innerHTML=L)},i:t,o:t,d(t){t&&l(e),i(O,t)}}}function mt(t,n,e){let o={tags:[]},{params:s}=n;return b(()=>{Z.getPostBySlug(blog_name,s.slug).then(t=>{console.log(`postBySlug ${t}`),e("post",o=JSON.parse(t))})}),t.$set=(t=>{"params"in t&&e("params",s=t.params)}),{post:o,params:s}}(Y=new Map).set("/post/:slug",class extends D{constructor(t){super(),B(this,t,mt,ht,r,["params"])}}),Y.set("/tag/:tag",ft),Y.set("/",ft),Y.set("*",class extends D{constructor(t){super(),B(this,t,null,X,r,[])}});var $t=Y;function bt(n){var e,o,s,r,i,p,g=new G({}),h=new W({props:{routes:$t}});return{c(){e=u("div"),g.$$.fragment.c(),o=f(),s=u("div"),(r=u("div")).textContent="blog",i=f(),h.$$.fragment.c(),d(r,"class","m-3 text-center"),d(s,"class","container-fluid")},m(t,n){c(t,e,n),A(g,e,null),c(t,o,n),c(t,s,n),a(s,r),a(s,i),A(h,s,null),p=!0},p:t,i(t){p||(N(g.$$.fragment,t),N(h.$$.fragment,t),p=!0)},o(t){P(g.$$.fragment,t),P(h.$$.fragment,t),p=!1},d(t){t&&l(e),I(g),t&&(l(o),l(s)),I(h)}}}return new class extends D{constructor(t){super(),B(this,t,null,bt,r,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
