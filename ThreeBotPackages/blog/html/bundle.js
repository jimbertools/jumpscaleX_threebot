var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function r(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(t,n){t.appendChild(n)}function c(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function u(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function i(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function f(){return g(" ")}function p(){return g("")}function d(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}function h(t,n){n=""+n,t.data!==n&&(t.data=n)}let m;function $(t){m=t}function b(t){(function(){if(!m)throw new Error("Function called outside component initialization");return m})().$$.on_mount.push(t)}function v(){const t=m;return(n,e)=>{const o=t.$$.callbacks[n];if(o){const s=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach(n=>{n.call(t,s)})}}}const x=[],y=[],_=[],w=[],E=Promise.resolve();let T=!1;function k(t){_.push(t)}function C(){const t=new Set;do{for(;x.length;){const t=x.shift();$(t),O(t.$$)}for(;y.length;)y.pop()();for(let n=0;n<_.length;n+=1){const e=_[n];t.has(e)||(e(),t.add(e))}_.length=0}while(x.length);for(;w.length;)w.pop()();T=!1}function O(t){t.fragment&&(t.update(t.dirty),o(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(k))}const j=new Set;let L,S;function N(){L={r:0,c:[],p:L}}function P(){L.r||o(L.c),L=L.p}function M(t,n){t&&t.i&&(j.delete(t),t.i(n))}function A(t,n,e,o){if(t&&t.o){if(j.has(t))return;j.add(t),L.c.push(()=>{j.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}function I(t,e,r){const{fragment:a,on_mount:c,on_destroy:l,after_update:u}=t.$$;a.m(e,r),k(()=>{const e=c.map(n).filter(s);l?l.push(...e):o(e),t.$$.on_mount=[]}),u.forEach(k)}function B(t,n){t.$$.fragment&&(o(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function H(t,n){t.$$.dirty||(x.push(t),T||(T=!0,E.then(C)),t.$$.dirty=e()),t.$$.dirty[n]=!0}function G(n,s,r,a,c,l){const u=m;$(n);const i=s.props||{},g=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:e(),dirty:null};let f=!1;var p;g.ctx=r?r(n,i,(t,e,o=e)=>(g.ctx&&c(g.ctx[t],g.ctx[t]=o)&&(g.bound[t]&&g.bound[t](o),f&&H(n,t)),e)):i,g.update(),f=!0,o(g.before_update),g.fragment=a(g.ctx),s.target&&(s.hydrate?g.fragment.l((p=s.target,Array.from(p.childNodes))):g.fragment.c(),s.intro&&M(n.$$.fragment),I(n,s.target,s.anchor),C()),$(u)}"undefined"!=typeof HTMLElement&&(S=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,n,e){this[t]=e}$destroy(){B(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}});class D{$destroy(){B(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function q(n){var e;return{c(){(e=i("div")).innerHTML='<nav class="navbar navbar-expand-lg navbar navbar-dark bg-dark"><a class="navbar-brand" href="#">Blog</a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button> <div class="collapse navbar-collapse" id="navbarText"><ul class="navbar-nav mr-auto"><li class="nav-item active"><a class="nav-link" href="/">\n\t\t\t            Home\n\t\t\t            <span class="sr-only">(current)</span></a></li></ul> <span class="navbar-text">Blog</span></div></nav>'},m(t,n){c(t,e,n)},p:t,i:t,o:t,d(t){t&&l(e)}}}class J extends D{constructor(t){super(),G(this,t,null,q,r,[])}}const R=[];function F(t,n){return{subscribe:z(t,n).subscribe}}function z(n,e=t){let o;const s=[];function a(t){if(r(n,t)&&(n=t,o)){const t=!R.length;for(let t=0;t<s.length;t+=1){const e=s[t];e[1](),R.push(e,n)}if(t){for(let t=0;t<R.length;t+=2)R[t][0](R[t+1]);R.length=0}}}return{set:a,update:function(t){a(t(n))},subscribe:function(r,c=t){const l=[r,c];return s.push(l),1===s.length&&(o=e(a)||t),r(n),()=>{const t=s.indexOf(l);-1!==t&&s.splice(t,1),0===s.length&&(o(),o=null)}}}}function K(n,e,r){const a=!Array.isArray(n),c=a?[n]:n,l=e.length<2;return F(r,n=>{let r=!1;const u=[];let i=0,g=t;const f=()=>{if(i)return;g();const o=e(a?u[0]:u,n);l?n(o):g=s(o)?o:t},p=c.map((t,n)=>t.subscribe(t=>{u[n]=t,i&=~(1<<n),r&&f()},()=>{i|=1<<n}));return r=!0,f(),function(){o(p),g()}})}function Q(t){var n,e,o=t.component;function s(t){return{props:{params:t.componentParams}}}if(o)var r=new o(s(t));return{c(){r&&r.$$.fragment.c(),n=p()},m(t,o){r&&I(r,t,o),c(t,n,o),e=!0},p(t,e){var a={};if(t.componentParams&&(a.params=e.componentParams),o!==(o=e.component)){if(r){N();const t=r;A(t.$$.fragment,1,0,()=>{B(t,1)}),P()}o?((r=new o(s(e))).$$.fragment.c(),M(r.$$.fragment,1),I(r,n.parentNode,n)):r=null}else o&&r.$set(a)},i(t){e||(r&&M(r.$$.fragment,t),e=!0)},o(t){r&&A(r.$$.fragment,t),e=!1},d(t){t&&l(n),r&&B(r,t)}}}function U(){const t=window.location.href.indexOf("#/");let n=t>-1?window.location.href.substr(t+1):"/";const e=n.indexOf("?");let o="";return e>-1&&(o=n.substr(e+1),n=n.substr(0,e)),{location:n,querystring:o}}const V=F(U(),function(t){const n=()=>{t(U())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});K(V,t=>t.location),K(V,t=>t.querystring);function W(t,n,e){let o;!function(t,n,e){t.$$.on_destroy.push(function(t,n){const e=t.subscribe(n);return e.unsubscribe?()=>e.unsubscribe():e}(n,e))}(t,V,t=>{e("$loc",o=t)});let{routes:s={}}=n;class r{constructor(t,n){if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:e,keys:o}=function(t,n){if(t instanceof RegExp)return{keys:!1,pattern:t};var e,o,s,r,a=[],c="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)"*"===(e=s[0])?(a.push("wild"),c+="/(.*)"):":"===e?(o=s.indexOf("?",1),r=s.indexOf(".",1),a.push(s.substring(1,~o?o:~r?r:s.length)),c+=~o&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(c+=(~o?"?":"")+"\\"+s.substring(r))):c+="/"+s;return{keys:a,pattern:new RegExp("^"+c+(n?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,this.component=n,this._pattern=e,this._keys=o}match(t){const n=this._pattern.exec(t);if(null===n)return null;if(!1===this._keys)return n;const e={};let o=0;for(;o<this._keys.length;)e[this._keys[o]]=n[++o]||null;return e}}const a=s instanceof Map?s:Object.entries(s),c=[];for(const[t,n]of a)c.push(new r(t,n));let l=null,u={};return t.$set=(t=>{"routes"in t&&e("routes",s=t.routes)}),t.$$.update=((t={component:1,$loc:1})=>{if(t.component||t.$loc){e("component",l=null);let t=0;for(;!l&&t<c.length;){const n=c[t].match(o.location);n&&(e("component",l=c[t].component),e("componentParams",u=n)),t++}}}),{routes:s,component:l,componentParams:u}}class X extends D{constructor(t){super(),G(this,t,W,Q,r,["routes"])}}function Y(n){var e,o,s;return{c(){(e=i("h2")).textContent="Not Found",o=f(),(s=i("h3")).textContent="Oops, this route doesn't exist!"},m(t,n){c(t,e,n),c(t,o,n),c(t,s,n)},p:t,i:t,o:t,d(t){t&&(l(e),l(o),l(s))}}}let Z,tt=new class{getPosts(t){let n={namespace:"default",actor:"blog",command:"get_posts",args:{blog:t},headers:{response_type:"json",content_type:"json"}};return console.log(n),GEDIS_CLIENT.execute(n)}getMeta(t){let n={namespace:"default",actor:"blog",command:"get_metadata",args:{blog:t},headers:{response_type:"json",content_type:"json"}};return GEDIS_CLIENT.execute(n)}getPostsByTag(t,n){let e={namespace:"default",actor:"blog",command:"get_posts_by_tag",args:{blog:t,tag:n},headers:{response_type:"json",content_type:"json"}};return console.log(e),GEDIS_CLIENT.execute(e)}getTags(t){console.log(`blog is ${t}`);let n={namespace:"default",actor:"blog",command:"get_tags",args:{blog:t},headers:{response_type:"json",content_type:"json"}};return console.log(n),GEDIS_CLIENT.execute(n)}};function nt(t,n,e){const o=Object.create(t);return o.tag=n[e],o}function et(n){var e;return{c(){(e=i("div")).textContent="Loading Tags..."},m(t,n){c(t,e,n)},p:t,d(t){t&&l(e)}}}function ot(t){var n;let e=t.tags,o=[];for(let n=0;n<e.length;n+=1)o[n]=st(nt(t,e,n));return{c(){n=i("div");for(let t=0;t<o.length;t+=1)o[t].c();d(n,"classname","tag-list")},m(t,e){c(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,s){if(t.tags){let r;for(e=s.tags,r=0;r<e.length;r+=1){const a=nt(s,e,r);o[r]?o[r].p(t,a):(o[r]=st(a),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=e.length}},d(t){t&&l(n),u(o,t)}}}function st(t){var n,e,o,s,r,u=t.tag+"";function p(){return t.click_handler(t)}return{c(){var a,c,l,h;n=i("a"),e=g(u),o=f(),d(n,"href",s="/tag/"+t.tag),d(n,"class","tag-default tag-pill"),c="click",l=p,(a=n).addEventListener(c,l,h),r=(()=>a.removeEventListener(c,l,h))},m(t,s){c(t,n,s),a(n,e),a(n,o)},p(o,r){t=r,o.tags&&u!==(u=t.tag+"")&&h(e,u),o.tags&&s!==(s="/tag/"+t.tag)&&d(n,"href",s)},d(t){t&&l(n),r()}}}function rt(n){var e;function o(t,n){return n.tags?ot:et}var s=o(0,n),r=s(n);return{c(){r.c(),e=p()},m(t,n){r.m(t,n),c(t,e,n)},p(t,n){s===(s=o(0,n))&&r?r.p(t,n):(r.d(1),(r=s(n))&&(r.c(),r.m(e.parentNode,e)))},i:t,o:t,d(t){r.d(t),t&&l(e)}}}function at(t,n,e){let{tags:o}=n;const s=v();return t.$set=(t=>{"tags"in t&&e("tags",o=t.tags)}),{tags:o,dispatch:s,click_handler:({tag:t})=>s("select",{tag:t})}}class ct extends D{constructor(t){super(),G(this,t,at,rt,r,["tags"])}}function lt(t,n,e){const o=Object.create(t);return o.post=n[e],o}function ut(t){var n;return{c(){(n=i("div")).innerHTML="<p>no posts yet..</p> ",d(n,"class","row")},m(t,e){c(t,n,e)},d(t){t&&l(n)}}}function it(t){var n,e,o,s,r,u,p=t.post.title+"";return{c(){n=i("div"),e=i("a"),o=i("h1"),s=g(p),u=f(),d(e,"rel","prefetch"),d(e,"href",r="./"+t.post.slug),d(n,"class","row")},m(t,r){c(t,n,r),a(n,e),a(e,o),a(o,s),a(n,u)},p(t,n){t.posts&&p!==(p=n.post.title+"")&&h(s,p),t.posts&&r!==(r="./"+n.post.slug)&&d(e,"href",r)},d(t){t&&l(n)}}}function gt(t){var n,e,o,s,r=new ct({props:{tags:t.tags}});return{c(){n=i("div"),(e=i("h2")).textContent="Popular Tags",o=f(),r.$$.fragment.c(),d(n,"class","sidebar")},m(t,l){c(t,n,l),a(n,e),a(n,o),I(r,n,null),s=!0},p(t,n){var e={};t.tags&&(e.tags=n.tags),r.$set(e)},i(t){s||(M(r.$$.fragment,t),s=!0)},o(t){A(r.$$.fragment,t),s=!1},d(t){t&&l(n),B(r)}}}function ft(t){var n,e,o,s,r,g;let p=t.posts,h=[];for(let n=0;n<p.length;n+=1)h[n]=it(lt(t,p,n));let m=null;p.length||(m=ut()).c();var $=t.tags&&gt(t);return{c(){n=f(),e=i("div"),o=i("div");for(let t=0;t<h.length;t+=1)h[t].c();s=f(),r=i("div"),$&&$.c(),document.title="Blog main",d(o,"class","col-md-9 pull-xs-left"),d(r,"class","col-md-3 pull-xs-right"),d(e,"class","row")},m(t,l){c(t,n,l),c(t,e,l),a(e,o);for(let t=0;t<h.length;t+=1)h[t].m(o,null);m&&m.m(o,null),a(e,s),a(e,r),$&&$.m(r,null),g=!0},p(t,n){if(t.posts){let e;for(p=n.posts,e=0;e<p.length;e+=1){const s=lt(n,p,e);h[e]?h[e].p(t,s):(h[e]=it(s),h[e].c(),h[e].m(o,null))}for(;e<h.length;e+=1)h[e].d(1);h.length=p.length}p.length?m&&(m.d(1),m=null):m||((m=ut()).c(),m.m(o,null)),n.tags?$?($.p(t,n),M($,1)):(($=gt(n)).c(),M($,1),$.m(r,null)):$&&(N(),A($,1,1,()=>{$=null}),P())},i(t){g||(M($),g=!0)},o(t){A($),g=!1},d(t){t&&(l(n),l(e)),u(h,t),m&&m.d(),$&&$.d()}}}function pt(t,n,e){let o=[],s=[],r={},{tag:a=""}=n;return b(()=>{tt.getPosts(blog_name).then(t=>{e("posts",o=JSON.parse(t)),console.log("POSTS: ",o),tt.getTags(blog_name).then(t=>{console.log("received data for tags:",t),e("tags",s=JSON.parse(t)),console.log("TAGS: ",s),tt.getMeta(blog_name).then(t=>{r=JSON.parse(t)})}),console.log("TAGS: ",s)})}),t.$set=(t=>{"tag"in t&&e("tag",a=t.tag)}),{posts:o,tags:s,tag:a}}class dt extends D{constructor(t){super(),G(this,t,pt,ft,r,["tag"])}}function ht(t,n,e){const o=Object.create(t);return o.tag=n[e],o.idx=e,o}function mt(t){var n,e,o,s,r,u=t.tag+"";return{c(){n=i("span"),e=i("i"),o=f(),s=g(u),r=f(),d(e,"class","ion-close-round"),d(n,"class","tag-default tag-pill")},m(t,l){c(t,n,l),a(n,e),a(n,o),a(n,s),a(n,r)},p(t,n){t.post&&u!==(u=n.tag+"")&&h(s,u)},d(t){t&&l(n)}}}function $t(n){var e,o,s,r,p,m,$,b,v,x,y,_,w,E,T,k,C,O=n.post.title+"",j=n.post.content+"";document.title=e="Blog main "+n.slug;let L=n.post.tags,S=[];for(let t=0;t<L.length;t+=1)S[t]=mt(ht(n,L,t));return{c(){o=f(),s=i("div"),r=i("div"),(p=i("span")).textContent="POST DATE",m=f(),$=i("div");for(let t=0;t<S.length;t+=1)S[t].c();b=f(),v=i("div"),x=i("h1"),y=i("i"),_=g(O),w=f(),E=i("hr"),T=f(),k=i("div"),C=i("div"),d(p,"class","date"),d($,"class","tag-list"),d(v,"class","article-item-title article-item-label content")},m(t,n){c(t,o,n),c(t,s,n),a(s,r),a(r,p),a(r,m),a(r,$);for(let t=0;t<S.length;t+=1)S[t].m($,null);a(r,b),a(r,v),a(v,x),a(x,y),a(y,_),a(v,w),a(v,E),a(s,T),a(s,k),a(k,C),C.innerHTML=j},p(t,n){if(t.slug&&e!==(e="Blog main "+n.slug)&&(document.title=e),t.post){let e;for(L=n.post.tags,e=0;e<L.length;e+=1){const o=ht(n,L,e);S[e]?S[e].p(t,o):(S[e]=mt(o),S[e].c(),S[e].m($,null))}for(;e<S.length;e+=1)S[e].d(1);S.length=L.length}t.post&&O!==(O=n.post.title+"")&&h(_,O),t.post&&j!==(j=n.post.content+"")&&(C.innerHTML=j)},i:t,o:t,d(t){t&&(l(o),l(s)),u(S,t)}}}function bt(t,n,e){let{slug:o,post:s}=n;b(()=>e("post",s=tt.getPost(blog_name,o)));new showdown.Converter;return t.$set=(t=>{"slug"in t&&e("slug",o=t.slug),"post"in t&&e("post",s=t.post)}),{slug:o,post:s}}(Z=new Map).set("/",dt),Z.set("/:postId",class extends D{constructor(t){super(),G(this,t,bt,$t,r,["slug","post"])}}),Z.set("/tag/:tag",dt),Z.set("*",class extends D{constructor(t){super(),G(this,t,null,Y,r,[])}});var vt=Z;function xt(n){var e,o,s,r,u,g,p=new J({}),h=new X({props:{routes:vt}});return{c(){e=i("div"),p.$$.fragment.c(),o=f(),s=i("div"),(r=i("div")).textContent="blog",u=f(),h.$$.fragment.c(),d(r,"class","m-3 text-center"),d(s,"class","container-fluid")},m(t,n){c(t,e,n),I(p,e,null),c(t,o,n),c(t,s,n),a(s,r),a(s,u),I(h,s,null),g=!0},p:t,i(t){g||(M(p.$$.fragment,t),M(h.$$.fragment,t),g=!0)},o(t){A(p.$$.fragment,t),A(h.$$.fragment,t),g=!1},d(t){t&&l(e),B(p),t&&(l(o),l(s)),B(h)}}}return new class extends D{constructor(t){super(),G(this,t,null,xt,r,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
