(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["contacts-page"],{"169a":function(t,e,a){"use strict";a("368e");var i=a("4ad4"),n=a("b848"),s=a("75eb"),o=a("e707"),c=a("e4d3"),l=a("21be"),r=a("f2e7"),d=a("a293"),h=a("80d2"),u=a("bfc5"),v=a("58df"),m=a("d9bd");const f=Object(v["a"])(i["a"],n["a"],s["a"],o["a"],c["a"],l["a"],r["a"]);e["a"]=f.extend({name:"v-dialog",directives:{ClickOutside:d["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200}},computed:{classes(){return{[`v-dialog ${this.contentClass}`.trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(t){t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind())},fullscreen(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created(){this.$attrs.hasOwnProperty("full-width")&&Object(m["d"])("full-width",this)},beforeMount(){this.$nextTick(()=>{this.isBooted=this.isActive,this.isActive&&this.show()})},beforeDestroy(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick(()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout(()=>this.animate=!1,150)})},closeConditional(t){const e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&(this.$emit("click:outside"),this.persistent&&this.overlay?(this.noClickAnimation||this.overlay.$el!==e&&!this.overlay.$el.contains(e)||this.animateClick(),!1):this.activeZIndex>=this.getMaxZIndex())},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):o["a"].options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick(()=>{this.$refs.content.focus(),this.bind()})},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onKeydown(t){if(t.keyCode===h["p"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const t=this.getActivator();this.$nextTick(()=>t&&t.focus())}this.$emit("keydown",t)},onFocusin(t){if(!t||t.target===document.activeElement||!this.retainFocus)return;const e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some(t=>t.contains(e))){const t=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');t.length&&t[0].focus()}}},render(t){const e=[],a={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:()=>{this.isActive=!1},args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],on:{click:t=>{t.stopPropagation()}},style:{}};this.fullscreen||(a.style={maxWidth:"none"===this.maxWidth?void 0:Object(h["c"])(this.maxWidth),width:"auto"===this.width?void 0:Object(h["c"])(this.width)}),e.push(this.genActivator());let i=t("div",a,this.showLazyContent(this.getContentSlot()));return this.transition&&(i=t("transition",{props:{name:this.transition,origin:this.origin}},[i])),e.push(t("div",{class:this.contentClasses,attrs:{role:"document",tabindex:this.isActive?0:void 0,...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.$createElement(u["a"],{props:{root:!0,light:this.light,dark:this.dark}},[i])])),t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},e)}})},"368e":function(t,e,a){},"3bd8":function(t,e,a){},"609e":function(t,e,a){},7272:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"contacts"},[a("v-row",{staticClass:"pa-2 fill-height"},[a("v-flex",{staticClass:"px-4",attrs:{md12:""}},[a("v-card",{staticClass:"fill-height"},[a("v-container",{staticClass:"pt-0 fill-height"},[a("v-row",{staticClass:"fill-height"},[a("v-flex",{staticClass:"right-border",attrs:{md4:""}},[a("v-toolbar",{staticClass:"primary",attrs:{dark:""}},[a("v-row",{staticClass:"mx-4 pt-5"},[a("v-flex",{attrs:{md4:""}},[a("v-select",{attrs:{value:"Name",dense:"",items:t.sortingSelection}})],1),a("v-flex",{attrs:{md3:""}}),a("v-flex",{attrs:{md5:""}},[a("v-text-field",{attrs:{"prepend-icon":"fas fa-search",label:"Search"}})],1)],1)],1),a("div",{staticClass:"pa-0",staticStyle:{position:"relative",width:"100%",height:"100%",overflow:"auto","min-height":"100px"}},[a("div",{staticClass:"pa-3",staticStyle:{position:"absolute",height:"100%",width:"100%"}},[a("v-list",{attrs:{"two-line":""}},[a("v-list-item-group",[t._l(t.contacts,(function(e,i){return[a("contact-list-item",{key:i,attrs:{contact:e},on:{click:function(a){t.openContact=e}}}),a("v-divider")]}))],2)],1)],1)]),a("v-divider",{attrs:{vertical:""}})],1),a("v-flex",{attrs:{md8:""}},[t.openContact?a("full-contact",{key:t.openContact.id,attrs:{contact:t.openContact}}):t._e()],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},on:{"click:outside":t.cancelContactCreation},model:{value:t.addContactDialog,callback:function(e){t.addContactDialog=e},expression:"addContactDialog"}},[a("v-card",[a("full-contact",{key:Math.random(),attrs:{editable:""},on:{update:t.clearAndClose,cancel:t.clearAndClose}})],1)],1),a("v-btn",{attrs:{fixed:"",bottom:"",right:"",fab:"",dark:"",color:"primary"},on:{click:function(e){t.addContactDialog=!0}}},[a("v-icon",[t._v("fas fa-plus")])],1)],1)},n=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"fullcontact"},[a("v-col",{staticClass:"pt-0"},[a("div",{staticStyle:{position:"absolute",right:"10px",top:"10px"}},[t._t("actions",[t.edit?a("v-btn",{attrs:{dark:"",icon:""},on:{click:t.updateContact}},[a("v-icon",{attrs:{small:""}},[t._v("fas fa-save")])],1):t._e(),t.edit?a("v-btn",{attrs:{dark:"",icon:""},on:{click:t.cancelUpdate}},[a("v-icon",{attrs:{small:""}},[t._v("fas fa-times")])],1):t._e(),t.edit?t._e():a("v-btn",{attrs:{dark:"",icon:""}},[a("v-icon",{attrs:{small:""}},[t._v("fas fa-star")])],1),t.edit?t._e():a("v-btn",{attrs:{dark:"",icon:""},on:{click:function(e){t.edit=!0}}},[a("v-icon",{attrs:{small:""}},[t._v("fas fa-pencil-alt")])],1),t.edit?t._e():a("v-menu",{scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({attrs:{dark:"",icon:""}},i),[a("v-icon",{attrs:{small:""}},[t._v("fas fa-ellipsis-v")])],1)]}}],null,!1,4063850083)},[a("v-list",[a("v-list-item",{on:{click:function(e){return t.deleteContact(t.currentContact.id)}}},[a("v-list-item-icon",[a("v-icon",[t._v("fas fa-trash")])],1),a("v-list-item-title",[t._v("Delete contact")])],1)],1)],1)])],2),a("v-row",{staticClass:"primary pa-5",attrs:{align:"center"}},[t.edit?a("v-avatar",{staticStyle:{position:"absolute","z-index":"2",background:"rgba(0,0,0,0.5)"},attrs:{size:"100"}},[a("v-icon",{attrs:{size:"50",dark:""}},[t._v("fas fa-camera")])],1):t._e(),a("v-avatar",{attrs:{size:"100",color:"secondary"}},[t.currentContact.picture?a("v-img",{attrs:{src:t.currentContact.picture}}):a("v-icon",{attrs:{size:"50",dark:""}},[t._v("fas fa-user")])],1),a("v-flex",{staticClass:"pl-2"},[a("v-row",{staticClass:"px-4"},[a("v-text-field",{attrs:{disabled:!t.edit,dark:"",label:"First name"},model:{value:t.currentContact.firstname,callback:function(e){t.$set(t.currentContact,"firstname",e)},expression:"currentContact.firstname"}}),a("v-text-field",{attrs:{disabled:!t.edit,dark:"",label:"Last name"},model:{value:t.currentContact.lastname,callback:function(e){t.$set(t.currentContact,"lastname",e)},expression:"currentContact.lastname"}})],1),t.currentContact.tags&&t.currentContact.tags.length?a("div",t._l(t.currentContact.tags,(function(e,i){return a("v-chip",{key:i,staticClass:"mr-2 text-uppercase"},[t._v("\n            "+t._s(e)+"\n          ")])})),1):t._e()],1)],1),a("v-col",[a("h2",{staticClass:"font-weight-thin"},[t._v("\n        Contact details\n      ")]),t.currentContact.phone_numbers&&t.currentContact.phone_numbers.length||t.edit?a("v-row",{staticClass:"px-2"},[a("v-col",{attrs:{cols:"1"}},[a("p",{staticClass:"text-center py-4"},[a("v-icon",[t._v("fas fa-phone")])],1)]),a("v-col",[t._l(t.currentContact.phone_numbers,(function(e,i){return a("v-text-field",{key:i,attrs:{disabled:!t.edit,value:e,label:"Phone number"}})})),a("v-text-field",{attrs:{"v-if":t.edit,label:"Phone number"}})],2)],1):t._e()],1)],1)],1)},o=[],c=a("2f62"),l={name:"fullcontact",components:{},props:{editable:{type:Boolean,default:!1},contact:{type:Object,default:{}}},data(){return{edit:this.editable,currentContact:{},birthdateDialog:!1,nameRules:[t=>!!t||"Name is required",t=>t&&t.length<=100||"Name must be less than 100 characters"],emailRules:[t=>!!t||"E-mail is required",t=>/.+@.+\..+/.test(t)||"E-mail must be valid"]}},computed:{},mounted(){this.currentContact=JSON.parse(JSON.stringify(this.contact)),this.edit=JSON.parse(JSON.stringify(this.editable))},methods:{...Object(c["b"])(["deleteContact","createContact"]),updateContact(){this.createContact(this.currentContact),this.edit=!1,this.$emit("update")},cancelUpdate(){this.currentContact=JSON.parse(JSON.stringify(this.contact)),this.edit=!1,this.$emit("cancel")}}},r=l,d=(a("cd1a"),a("2877")),h=a("6544"),u=a.n(h),v=a("8212"),m=a("8336"),f=a("cc20"),p=a("62ad"),C=a("0e8f"),b=a("132d"),g=a("adda"),x=a("8860"),k=a("da13"),y=a("34c3"),w=a("5d23"),_=a("e449"),V=a("0fd9"),S=a("8654"),$=Object(d["a"])(r,s,o,!1,null,"3190b35b",null),O=$.exports;u()($,{VAvatar:v["a"],VBtn:m["a"],VChip:f["a"],VCol:p["a"],VFlex:C["a"],VIcon:b["a"],VImg:g["a"],VList:x["a"],VListItem:k["a"],VListItemIcon:y["a"],VListItemTitle:w["d"],VMenu:_["a"],VRow:V["a"],VTextField:S["a"]});var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"contactlistitem"},[a("v-list-item",{on:{click:function(e){return t.$emit("click")}},scopedSlots:t._u([{key:"default",fn:function(e){e.active,e.toggle;return[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.name))])],1),a("v-list-item-action",[t.contact.star?a("v-icon",{attrs:{color:"yellow"}},[t._v("\n          fas fa-star\n        ")]):a("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("\n          far fa-star\n        ")])],1)]}}])})],1)},I=[],L={name:"contactlistitem",components:{},props:["contact"],data(){return{}},computed:{name(){return`${this.contact.firstname} ${this.contact.lastname}`}},mounted(){},methods:{}},B=L,D=(a("f407"),a("1800")),T=Object(d["a"])(B,A,I,!1,null,"30a09c9b",null),E=T.exports;u()(T,{VIcon:b["a"],VListItem:k["a"],VListItemAction:D["a"],VListItemContent:w["b"],VListItemTitle:w["d"]});var N={name:"contacts",components:{fullContact:O,contactListItem:E},props:[],data(){return{openContact:null,newContact:{},addContactDialog:!1,sortingSelection:["Name","Recent"]}},computed:{...Object(c["c"])(["contacts"])},mounted(){this.getContacts()},methods:{...Object(c["b"])(["getContacts","createContact"]),clearAndClose(){this.newContact={},this.addContactDialog=!1}}},j=N,F=(a("c14c"),a("b0af")),J=a("a523"),z=a("169a"),M=a("ce7e"),Z=a("1baa"),R=a("b974"),P=a("71d9"),W=Object(d["a"])(j,i,n,!1,null,"1dc47c12",null);e["default"]=W.exports;u()(W,{VBtn:m["a"],VCard:F["a"],VContainer:J["a"],VDialog:z["a"],VDivider:M["a"],VFlex:C["a"],VIcon:b["a"],VList:x["a"],VListItemGroup:Z["a"],VRow:V["a"],VSelect:R["a"],VTextField:S["a"],VToolbar:P["a"]})},"8be2":function(t,e,a){},c14c:function(t,e,a){"use strict";var i=a("3bd8"),n=a.n(i);n.a},cd1a:function(t,e,a){"use strict";var i=a("609e"),n=a.n(i);n.a},f407:function(t,e,a){"use strict";var i=a("8be2"),n=a.n(i);n.a}}]);
//# sourceMappingURL=contacts-page.6baf88c3.js.map