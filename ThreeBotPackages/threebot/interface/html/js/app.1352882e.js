(function(e){function t(t){for(var o,n,c=t[0],p=t[1],i=t[2],l=0,u=[];l<c.length;l++)n=c[l],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(o in p)Object.prototype.hasOwnProperty.call(p,o)&&(e[o]=p[o]);m&&m(t);while(u.length)u.shift()();return s.push.apply(s,i||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],o=!0,n=1;n<a.length;n++){var c=a[n];0!==r[c]&&(o=!1)}o&&(s.splice(t--,1),e=p(p.s=a[0]))}return e}var o={},n={app:0},r={app:0},s=[];function c(e){return p.p+"js/"+({"appstore-page":"appstore-page","browser-page":"browser-page","calendar-page":"calendar-page","contacts-page~freeflowconnect-page~mails-page":"contacts-page~freeflowconnect-page~mails-page","contacts-page~mails-page":"contacts-page~mails-page","contacts-page":"contacts-page","mails-page":"mails-page","freeflowconnect-page":"freeflowconnect-page"}[e]||e)+"."+{"appstore-page":"9f9fce63","browser-page":"3fa62885","calendar-page":"32c81789","contacts-page~freeflowconnect-page~mails-page":"18f57c7c","contacts-page~mails-page":"28892bc3","contacts-page":"6baf88c3","mails-page":"7dd85b54","freeflowconnect-page":"0826de50"}[e]+".js"}function p(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,p),a.l=!0,a.exports}p.e=function(e){var t=[],a={"appstore-page":1,"browser-page":1,"calendar-page":1,"contacts-page~freeflowconnect-page~mails-page":1,"contacts-page~mails-page":1,"contacts-page":1,"mails-page":1,"freeflowconnect-page":1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var o="css/"+({"appstore-page":"appstore-page","browser-page":"browser-page","calendar-page":"calendar-page","contacts-page~freeflowconnect-page~mails-page":"contacts-page~freeflowconnect-page~mails-page","contacts-page~mails-page":"contacts-page~mails-page","contacts-page":"contacts-page","mails-page":"mails-page","freeflowconnect-page":"freeflowconnect-page"}[e]||e)+"."+{"appstore-page":"4b4cf4d8","browser-page":"69494f75","calendar-page":"796a26d0","contacts-page~freeflowconnect-page~mails-page":"ab7c88b4","contacts-page~mails-page":"80a04812","contacts-page":"4ef4562c","mails-page":"70d355dc","freeflowconnect-page":"f911084a"}[e]+".css",r=p.p+o,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var i=s[c],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===o||l===r))return t()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){i=u[c],l=i.getAttribute("data-href");if(l===o||l===r)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var o=t&&t.target&&t.target.src||r,s=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=o,delete n[e],m.parentNode.removeChild(m),a(s)},m.href=r;var g=document.getElementsByTagName("head")[0];g.appendChild(m)})).then((function(){n[e]=0})));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var s=new Promise((function(t,a){o=r[e]=[t,a]}));t.push(o[2]=s);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,p.nc&&l.setAttribute("nonce",p.nc),l.src=c(e);var u=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(m);var a=r[e];if(0!==a){if(a){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",u.name="ChunkLoadError",u.type=o,u.request=n,a[1](u)}r[e]=void 0}};var m=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},p.m=e,p.c=o,p.d=function(e,t,a){p.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},p.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(e,t){if(1&t&&(e=p(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(p.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)p.d(a,o,function(t){return e[t]}.bind(null,o));return a},p.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return p.d(t,"a",t),t},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.p="/",p.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var m=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1:function(e,t){},2:function(e,t){},"2bab":function(e,t,a){"use strict";var o={tfApiUrl:"https://radar.threefold.io/api/",jsApiUrl:`${window.location}actors/`,apiUrl:"https://ffc-signaling.jimber.org",janus:"http://ffc-video.jimber.org/janus",janusHTTPS:"https://ffc-video.jimber.org/janus"},n=o;console.log("process.env.NODE_ENV","production");t["a"]=n},3:function(e,t){},4:function(e,t){},"4ffc":function(e,t,a){},5:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);var o=a("2b0e"),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"app"},[o("v-app",[o("v-overlay",{attrs:{"z-index":"9",opacity:"0.75",value:e.showOverlay}},[o("v-progress-circular",{attrs:{color:"secondary",width:"10",indeterminate:"",size:"100"}}),o("p",{staticClass:"text-center pt-5"},[e._v("Loading...")])],1),o("v-navigation-drawer",{staticClass:"primary rounded",attrs:{"mini-variant":"",app:"",dark:""}},[o("v-layout",{attrs:{column:"","fill-height":"","justify-end":""}},[o("div",[o("v-toolbar",{attrs:{color:"secondary darken-2"}},[o("v-badge",{attrs:{bottom:"",right:"",overlap:"",color:"primary"},scopedSlots:e._u([{key:"badge",fn:function(){return[o("v-icon",{attrs:{size:"12",dark:""}},[e._v(e._s(e.$route.meta.icon))])]},proxy:!0}])},[o("v-avatar",[o("v-img",{attrs:{src:a("b640")}})],1)],1)],1)],1),o("div",e._l(e.topRoutes,(function(t,a){return o("v-list-item",{key:a,attrs:{to:t,"active-class":"secondary--text"}},[o("v-list-item-icon",[o("v-icon",[e._v(e._s(t.meta.icon))])],1),o("v-list-item-content",[o("v-list-item-title",{staticClass:"title text-capitalize"},[e._v(e._s(t.name))])],1)],1)})),1),o("v-spacer"),o("div",e._l(e.bottomRoutes,(function(t,a){return o("v-list-item",{key:a,attrs:{to:t,"active-class":"secondary--text"}},[o("v-list-item-icon",[o("v-icon",[e._v(e._s(t.meta.icon))])],1),o("v-list-item-content",[o("v-list-item-title",{staticClass:"title text-capitalize"},[e._v(e._s(t.name))])],1)],1)})),1)],1)],1),o("v-content",{staticClass:"content"},[o("router-view")],1),e.$vuetify.breakpoint.mdAndDown?o("v-bottom-navigation",{staticClass:"primary topround",attrs:{grow:"",dark:"",app:"",fixed:"",shift:"",value:e.$route.name}},e._l(e.routes,(function(t,a){return o("v-btn",{key:a,attrs:{value:t.name,icon:""},on:{click:function(a){return e.$router.push(t)}}},[o("span",[e._v(e._s(t.name))]),o("v-icon",[e._v(e._s(t.meta.icon))])],1)})),1):e._e()],1)],1)},r=[],s=a("2f62"),c={name:"app",components:{},props:[],data(){return{showDialog:!1,showBadge:!0,menu:!1}},computed:{...Object(s["c"])(["apps","activeApps"]),routes(){return this.$router.options.routes},topRoutes(){var e=this.routes.filter(e=>"top"===e.meta.position&&!e.meta.hidden&&!e.meta.appName),t=this.activeApps(this.$router.options.routes);return e.concat(t)},bottomRoutes(){return this.routes.filter(e=>"bottom"==e.meta.position&&!e.meta.hidden)},showOverlay(){var e=this.apps&&!!this.apps.length,t=this.$wait.is("getApps");return!e&&t}},mounted(){this.getApps()},methods:{...Object(s["b"])(["getApps"])}},p=c,i=(a("cd69"),a("2877")),l=a("6544"),u=a.n(l),m=a("7496"),g=a("8212"),f=a("4ca6"),d=a("b81c"),v=a("8336"),h=a("a75b"),b=a("132d"),w=a("adda"),y=a("a722"),C=a("da13"),A=a("5d23"),_=a("34c3"),j=a("f774"),R=a("a797"),$=a("490a"),x=a("2fa4"),O=a("71d9"),U=Object(i["a"])(p,n,r,!1,null,null,null),V=U.exports;u()(U,{VApp:m["a"],VAvatar:g["a"],VBadge:f["a"],VBottomNavigation:d["a"],VBtn:v["a"],VContent:h["a"],VIcon:b["a"],VImg:w["a"],VLayout:y["a"],VListItem:C["a"],VListItemContent:A["b"],VListItemIcon:_["a"],VListItemTitle:A["d"],VNavigationDrawer:j["a"],VOverlay:R["a"],VProgressCircular:$["a"],VSpacer:x["a"],VToolbar:O["a"]});var N=a("8c4f"),S=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"home fill-height"},[o("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[o("v-row",{staticClass:"fill-height",attrs:{align:"center"}},[o("v-col",[o("v-col",{staticClass:"mb-5",attrs:{rows:"12",align:"center",justify:"center"}},[o("v-avatar",{staticClass:"ma-3",attrs:{size:"100"}},[o("v-img",{attrs:{src:a("b640")}})],1),o("h1",{staticClass:"display-2 font-weight-bold"},[e._v("3Bot")])],1),o("v-sheet",{staticClass:"transparent",attrs:{height:75}}),o("v-row",{attrs:{align:"center",justify:"center"}},[e._l(e.activeApps(e.$router.options.routes),(function(t,a){return o("div",{key:a,staticClass:"text-center px-5"},[o("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){return e.$router.push(t)}}},[o("v-avatar",{staticClass:"ma-3 primary",attrs:{size:"50"}},[o("v-icon",{staticClass:"white--text",attrs:{size:"25"}},[e._v(e._s(t.meta.icon))])],1),o("p",{staticClass:"text-uppercase"},[e._v(e._s(t.name))])],1)])})),e.activeApps(e.$router.options.routes).length?e._e():o("div",{staticClass:"text-center px-5"},[o("v-row",[e._v("It seems like you don't have any apps installed.")]),o("v-row",{staticClass:"text-center",attrs:{align:"center",justify:"center"}},[e._v("Go to the "),o("v-btn",{attrs:{small:"",text:"",to:{name:"dapps"},color:"secondary"}},[e._v("appstore")]),e._v(" and install some.")],1)],1)],2),o("v-sheet",{staticClass:"transparent",attrs:{height:200}})],1)],1)],1)],1)},k=[],P={name:"home",components:{},props:[],data(){return{}},computed:{...Object(s["c"])(["activeApps"])},mounted(){},methods:{}},T=P,E=(a("ec7e"),a("62ad")),L=a("a523"),I=a("0fd9"),B=a("8dd9"),z=Object(i["a"])(T,S,k,!1,null,"1c6961e2",null),D=z.exports;u()(z,{VAvatar:g["a"],VBtn:v["a"],VCol:E["a"],VContainer:L["a"],VIcon:b["a"],VImg:w["a"],VRow:I["a"],VSheet:B["a"]}),o["default"].use(N["a"]);var F=new N["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:D,meta:{icon:"fas fa-home",position:"top"}},{path:"/mail",name:"mail",component:()=>Promise.all([a.e("contacts-page~freeflowconnect-page~mails-page"),a.e("contacts-page~mails-page"),a.e("mails-page")]).then(a.bind(null,"78c0")),meta:{icon:"fas fa-envelope-open",position:"top",appName:"Mail"}},{path:"/calendar",name:"calendar",component:()=>a.e("calendar-page").then(a.bind(null,"6eea")),meta:{icon:"fas fa-calendar-alt",position:"top",appName:"Calendar"}},{path:"/contacts",name:"contacts",component:()=>Promise.all([a.e("contacts-page~freeflowconnect-page~mails-page"),a.e("contacts-page~mails-page"),a.e("contacts-page")]).then(a.bind(null,"7272")),meta:{icon:"fas fa-address-book",position:"top",appName:"Contacts"}},{path:"/freeflowconnect",name:"connect",component:()=>Promise.all([a.e("contacts-page~freeflowconnect-page~mails-page"),a.e("freeflowconnect-page")]).then(a.bind(null,"3c31")),meta:{icon:"fas fa-comments",position:"top",appName:"FF Connect"}},{path:"/browser",name:"browser",component:()=>a.e("browser-page").then(a.bind(null,"84d9")),meta:{icon:"far fa-globe-europe",position:"top",appName:"Browser"}},{path:"/freeflowconnect/:roomName",name:"connectWithRoom",component:()=>Promise.all([a.e("contacts-page~freeflowconnect-page~mails-page"),a.e("freeflowconnect-page")]).then(a.bind(null,"3c31")),meta:{icon:"fas fa-comments",position:"top",appName:"FF Connect",hidden:!0}},{path:"/appstore",name:"dapps",component:()=>a.e("appstore-page").then(a.bind(null,"c9aa")),meta:{icon:"fas fa-th",position:"bottom"}}]}),M=a("bc3a"),J=a.n(M),K=a("2bab"),q={getApps(){return J.a.post(`${K["a"].jsApiUrl}apps/get`)},installApp(e){return e.installed=!0,J.a.post(`${K["a"].jsApiUrl}apps/put`,{args:{app:e}})},uninstallApp(e){return e.installed=!1,J.a.post(`${K["a"].jsApiUrl}apps/put`,{args:{app:e}})}},H={state:{apps:[]},actions:{getApps:e=>{e.dispatch("wait/start","getApps",{root:!0}),q.getApps().then(t=>{e.dispatch("wait/end","getApps",{root:!0}),e.commit("setApps",t.data.apps)})},installApp:(e,t)=>{e.dispatch("wait/start","installApp",{root:!0}),q.installApp(t).then(t=>{e.dispatch("wait/end","installApp",{root:!0}),e.dispatch("getApps")})},uninstallApp:(e,t)=>{e.dispatch("wait/start","uninstallApp",{root:!0}),q.uninstallApp(t).then(t=>{e.dispatch("wait/end","uninstallApp",{root:!0}),e.dispatch("getApps")})}},mutations:{setApps:(e,t)=>{e.apps=t},updateApp:(e,t)=>{e.apps.find(e=>e.name===t.name).installed=t.installed}},getters:{apps:e=>e.apps,activeApps:e=>t=>{var a=[];return e.apps.forEach(e=>{if(e.installed){var o=t.find(t=>t.meta.appName===e.appname);a.push(o)}}),a}}};const G={headers:{"Content-Type":"application/json"}};var W={getContacts(){return J.a.post(`${K["a"].jsApiUrl}contacts/list`)},updateOrCreate(e){return J.a.post(`${K["a"].jsApiUrl}contacts/put`,{args:{contact:e}},G)},deleteContact(e){return J.a.post(`${K["a"].jsApiUrl}contacts/remove`,{args:{contact_id:e}},G)}},Q={state:{contacts:[]},actions:{getContacts:e=>{W.getContacts().then(t=>{e.commit("setContacts",t.data.contacts)}).catch(e=>{console.error(e)})},deleteContact:(e,t)=>{W.deleteContact(t).then(t=>{e.dispatch("getContacts")}).catch(e=>{console.error(e)})},createContact:(e,t)=>{W.updateOrCreate(t).then(t=>{e.dispatch("getContacts")}).catch(e=>{console.error(e)})}},mutations:{setContacts:(e,t)=>{e.contacts=t}},getters:{contacts:e=>e.contacts}},X={getApps(){return J.a.post(`${K["a"].jsApiUrl}apps/get`)},installApp(e){return J.a.post(`${K["a"].jsApiUrl}apps/update`,{args:{name:e,installed:!0}})},uninstallApp(e){return J.a.post(`${K["a"].jsApiUrl}apps/update`,{args:{name:e,installed:!1}})},getRoom(e){return J.a.get(`${K["a"].apiUrl}/rooms/${e}`)},getRooms(){return J.a.get(`${K["a"].apiUrl}/rooms`)},createRoom(e){return J.a.post(`${K["a"].apiUrl}/rooms`,{name:e})},joinRoom(e){return J.a.patch(`${K["a"].apiUrl}/rooms/${e}`,{user:e})},getUser(e){return J.a.get(`${K["a"].apiUrl}/users/${e}`)},createUser(e){return J.a.post(`${K["a"].apiUrl}/users`,{name:e})}},Y={state:{currentRoom:{name:null,users:[]},userName:null},actions:{setCurrentRoom:(e,t)=>{null!=t?X.getRoom(t).then(a=>{e.commit("setCurrentRoom",{name:t,...a.data})}):e.commit("setCurrentRoom",t)},setRooms:(e,t)=>{e.commit("setRooms",t)},setUserName:(e,t)=>{e.commit("setUserName",t)},sendMessage:(e,t)=>{e.commit("sendMessage",t)},SOCKET_userJoined:(e,t)=>{e.commit("addUserToCurrentRoom",t.user)},SOCKET_userLeft:(e,t)=>{e.commit("removeUserFromCurrentRoom",t.user)}},mutations:{setCurrentRoom(e,t){e.currentRoom=null!=t?t:{name:null,users:[]}},setRooms(e,t){e.rooms=t},addUserToCurrentRoom(e,t){null!=e.currentRoom&&e.currentRoom.users.push(t)},removeUserFromCurrentRoom(e,t){null!=e.currentRoom&&(console.log("Removing user from current room",JSON.stringify(e.currentRoom),t),e.currentRoom.users.splice(e.currentRoom.users.indexOf(t),1),e.currentRoom.users.indexOf(t),console.log("Done removing user from current room",JSON.stringify(e.currentRoom)))},setUserName(e,t){e.userName=t}},getters:{currentRoom:e=>e.currentRoom,rooms:e=>e.rooms,currentPeers:e=>e.currentPeers,userName:e=>e.userName,messages:e=>e.messages}};o["default"].use(s["a"]);var Z=new s["a"].Store({modules:{appStore:H,contactStore:Q,ffcStore:Y}}),ee=(a("4f79"),a("fdc2"),a("ce5b")),te=a.n(ee);a("95ed");o["default"].use(te.a);var ae=new te.a({iconfont:"fa",theme:{themes:{light:{primary:"#2d4052",secondary:"#57be8e"}}}}),oe=a("cb8f"),ne=a.n(oe);o["default"].prototype.$sanitize=ne.a;var re=a("f2d6"),se=a.n(re),ce=a("5132"),pe=a.n(ce);o["default"].use(se.a),o["default"].use(new pe.a({debug:!0,connection:`${K["a"].apiUrl}/rooms-ws`,vuex:{store:Z,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),o["default"].config.productionTip=!1,new o["default"]({router:F,store:Z,vuetify:ae,wait:new se.a({useVuex:!0}),render:e=>e(V)}).$mount("#app")},"83a9":function(e,t,a){},b640:function(e,t,a){e.exports=a.p+"img/logo.c6068f23.jpg"},cd69:function(e,t,a){"use strict";var o=a("83a9"),n=a.n(o);n.a},ec7e:function(e,t,a){"use strict";var o=a("4ffc"),n=a.n(o);n.a}});
//# sourceMappingURL=app.1352882e.js.map